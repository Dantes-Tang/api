<!-- <h1>{{person.name}}</h1> -->


<!-- <header role="banner" data-reactid="6">
		<div>
			<span class="headline">The description of yook <a href='#'>opportunity</a></span>
			<span></span>
			
		</div>
		
	</header>
 -->
	 <form name="form" class="css-form" novalidate="novalidate">
	<div ng-controller="Controller as $ctrl" >
		<table class="table table-bordered "  >
			<thead>
				<tr class="" >
					<td colspan="14" >Opportunity's Demands</td>		
				
				</tr>
				
			</thead>
			<tbody>
			<tr ng-click="demand.$edit=true" >
				
				
					<th>Project Name</th>
					<th ng-show="visible">Resource Name</th>
					<th>Resource Type</th>
					<th>Site Account</th>
					<th >Desigation</th>	
					<th ng-show="visible">Position</th>
					<th ng-show="visible">Capbility Name</th>
					<th ng-show="visible">Allocation Type</th>
					<th ng-show="visible">Allocation Ratio</th>
					<th>Start Time</th>
					<th>End Time</th>
					<th ng-show="visible">Assignment Capbilbity</th>
					<th>Alternative Desigation</th>
				
					
				</tr>
				<tr ng-repeat="demand in demands"  ng-click="demand.$edit=true;showToggle()" >
					<td class="td-style">
						<span ng-if="!demand.$edit">{{demand.dmdProjName}}</span>
						<div ng-if="demand.$edit"><input type="text" class="form-control ng-touched " ng-model="demand.dmdProjName"></div>
					</td>
					<td ng-show="visible" class="td-style">
						
						<span ng-if="!demand.$edit"> {{demand.drmsResource.resourceName}}</span>
						<div ng-if="demand.$edit">
						<input type="text" ng-model="demand.drmsResource.resourceName" class="form-control size" ng-disabled="true" placeholder="{{demand.drmsResource.resourceName}}">
							<!-- <span ng-model="demand.drmsResource.resourceName">{{resources[0].resourceName}}</span> -->
							<!-- <select class="form-control size select-padding" name="resource-select" id="resource-select" ng-options="resource.resourceName for resource in resources track by resource.resourceId" ng-model="demand.drmsResource"></select> -->
						</div>
					
					
					</td>
					<td class="td-style">
						<span ng-if="!demand.$edit">{{demand.dmdResType}}</span>
						<div ng-if="demand.$edit" ><input type="text" class="form-control size" ng-model="demand.dmdResType"></div>
					</td>
					<td class="td-style">
						<span ng-if="!demand.$edit"> {{demand.drmsSite.siteName}}</span>
							<div ng-if="demand.$edit">	<select class="form-control size select-padding" name="site-select" id="site-select" ng-options="site.siteName for site in sites track by site.siteId" ng-model="demand.drmsSite"></select>
							</div>
					</td>
					<td class="td-style">
						<span ng-if="!demand.$edit">{{demand.drmsDesigation.dsgName}}</span>
						<div ng-if="demand.$edit" > <select class="form-control size select-padding" name="desigation-select" id="desigation_select" ng-options="desigation.dsgName for desigation in desigations track by desigation.dsgId" ng-model="demand.drmsDesigation"></select></div>
					</td>
					<td ng-show="visible" class="td-style">
						<span ng-if="!demand.$edit">{{demand.dmdPosition}}</span>
						<div ng-if="demand.$edit" ><input type="text" class="form-control size" ng-model="demand.dmdPosition"></div>
					</td>
					<td ng-show="visible" class="td-style">
						<span ng-if="!demand.$edit">{{demand.drmsCapability.capName}}</span>
						<div ng-if="demand.$edit" > <select class="form-control size select-padding" name="cap-select" id="cap_select" ng-options="cap.capName for cap in capabilities track by cap.capId" ng-model="demand.drmsCapability"></select></div>
					</td>   
					<td ng-show="visible" class="td-style">
						<span ng-if="!demand.$edit">{{demand.drmsAllocationType.atpName}}</span>
						<div ng-if="demand.$edit" ><select class="form-control size select-padding" name="allocation-type-select" id="allo_select" ng-options="atp.atpName for atp in allocationTypes track by atp.atpId" ng-model="demand.drmsAllocationType"></select></div>
		
					</td>
					<td ng-show="visible" class="td-style">
						<span ng-if="!demand.$edit">{{demand.dmdAllocRatio}}</span>
						<div ng-if="demand.$edit" ng-model="demand.dmdAllocRatio"><input type="text" class="form-control" ng-model="demand.dmdAllocRatio"></div>
					</td>
					<td>
						<span ng-if="!demand.$edit ">{{demand.startDate}}</span>
						<div  ng-if="demand.$edit" >
							<div class="dropdown ">
		    					<a class="dropdown-toggle" id="dropdownStart" role="button" data-toggle="dropdown" data-target="#"
		      					 href="#">
		        					<div class="input-group date">
		           						 <input type="text" class="form-control" data-ng-model="demand.startDate">
		           						 <span class="input-group-addon"><i class="glyphicon glyphicon-calendar "></i></span>
		        					</div>
		    					</a>
		    					<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
		       						 <datetimepicker data-ng-model="demand.startDate"
		                       						 data-datetimepicker-config="{ dropdownSelector: '#dropdownStart', renderOn: 'end-date-changed' }"
		                        					 data-on-set-time="startDateOnSetTime()"
		                        					 data-before-render="startDateBeforeRender($dates)">
		                        	</datetimepicker>
		   						</ul>
		   					</div>
		   				</div>	
					</td>
					<td>
							<span ng-if="!demand.$edit" >{{demand.endDate}}</span>
							<div ng-if="demand.$edit" >
		  						<div class="dropdown ">
		    					<a class="dropdown-toggle" id="dropdownEnd" role="button" data-toggle="dropdown" data-target="#"
		       						href="#">
		       					 	<div class="input-group date ">
		            					<input type="text" class="form-control " data-ng-model="demand.endDate" >
		            					<span class="input-group-addon "><i class="glyphicon glyphicon-calendar"></i></span>
		        					</div>
		    					</a>
		    					<ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
		        					<datetimepicker data-ng-model="demand.endDate"
		                        					data-datetimepicker-config="{ dropdownSelector: '#dropdownEnd', renderOn: 'start-date-changed' }"
		                        					data-on-set-time="endDateOnSetTime()"
		                        					data-before-render="endDateBeforeRender($view, $dates, $leftDate, $upDate, $rightDate)">
		                        	</datetimepicker>
		    					</ul>
							</div>
						</div>
					</td>
					<td ng-show="visible" class="td-style">
						<span ng-if="!demand.$edit">{{demand.drmsAssCapability.capName}}</span>
						<div ng-if="demand.$edit">
							
						   <select class="form-control size select-padding"><option ng-repeat="assCap in capabilities" ng-model="demand.drmsAssCapability.capId">{{assCap.capName}}</option></select>
						</div>
						<!-- <select class="form-control size select-padding" name="cap-select" id="cap_select" ng-options="cap.capName for cap in capabilities track by cap.capId" ng-model="demand.dmdAssCapId"></select></div> -->
		
					</td>
					<td class="td-style">
						<span ng-if="!demand.$edit">{{demand.dmdAlterdsg}}</span>
						<div ng-if="demand.$edit" ng-model="demand.dmdAlterdsg"><input type="text" class="form-control size" ng-model="demand.dmdAlterdsg"></div>
					</td>
					<!-- <td class="demandmodal"><button ng-click="$ctrl.open()"><span class="glyphicon glyphicon-tasks"></span></button>
						<div ng-show="$ctrl.selected">Selection from a modal:{{$ctrl.selected}}</div>
						<div class="modal-parent"></div>	
					</td>
					 -->
					<!-- <td class="edit">
						<!--   <a ng-if="!demand.$edit" ng-click="demand.$edit=true;edit()"><span class="glyphicon glyphicon-edit"></span></a> 
						<!--  <a ng-if="demand.$edit"  ng-disabled="demand.dmdProjName" ng-click="demand.$edit=false;save()" ><span ng-disabled="demand.dmdProjName" class="glyphicon glyphicon-ok"></span></a> -->
						<!--   <a ng-if="demand.$edit" ng-click="demand.$edit=false;cancel()" ><span class="glyphicon glyphicon-remove"></span></a>-->
						<!--  <button ng-if="demand.$edit" ng-disabled="!demand.dmdProjName || !demand.dmdResType ||!demand.dmdPosition ||!demand.drmsSite.siteName || !demand.dmdAllocRatio ||!demand.startDate || !demand.endDate ||  !demand.dmdAlterdsg||!demand.drmsCapability.capName" 
						  	 	ng-click="demand.$edit=false;save()"  class="btn btn-sm btn-block btn-primary" >save
						  											
						 </button>
																
					  </td>	 
					  -->										
					
				</tr>
			</tbody>
	</table>
	<div>
		<a ng-click="addDemand()" class="btn btn-default active add-btn" role="button"><span class="glyphicon glyphicon-plus"></span>Create-Demands</a>
		<button ng-click="demand.$edit=false;submit()"  class="btn  btn-default active add-btn" ng-disabled="">save</button>	
						  											
		
	</div>			
	
	
 	<pre>{{demands|json}}</pre>
	  
	<footer>
		<div><img src="images/capgemini.png"></div>	
	</footer>

</div>
</form>